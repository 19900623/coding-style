## 命名规范

- 表名、字段名、索引名使用小写字母、数字，采用下划线分割
- 表名、字段名不超过 32 个字符
- 表名使用名词，单数
- 索引名称采用 `idx_` 前缀，之后顺序跟随索引的字段名，字段名直接以下划线分割
- 不使用保留字

SQL 语句中，保留字使用全大写。

例如

```sql
SELECT id, title FROM xiaoqu WHERE id = 1
```

## 表的设计

### MySQL 存储引擎使用 InnoDB

不用纠结，没有特殊原因的情况下，作为 OLTP 的 MySQL 使用 InnoDB 引擎。

### 字符集使用 UTF-8

Charset 为 `utf8`；Collation 为 `utf8_general_ci`。

### 正确使用时间类型

MySQL 应当正确设置 time_zone。

- 精确到秒的时间采用 `TIMESTAMP`
- 精确到日期使用 `DATE`
- 一般不使用 `DATETIME` 类型
- **不允许使用字符串类型存储时间**

### 不使用浮点类型，FLOAT、DOUBLE

一般情况下，不需要存储浮点数。例如金额可以用分为单位，然后采用 INTEGER，或者依然以元为单位，采用 DECIMAL。

### 字段个数不超过 30 个

### 不直接存储图片、文件

### BLOB 和 TEXT

### 不使用 NULL

### 字段设置 DEFAULT 值


## 索引

### 使用数字主键

### 不使用联合主键

### 不使用外键

### 联合索引字段数不超过 5 个

### 前缀索引长度不超过 8 个字符


## SQL 语句

### 避免对查询内容进行数学或函数运算

### 避免使用负向查询 !=, <>, NOT EXISTS

### 避免隐式转换

### 避免使用联表查询

### 避免使用子查询

### 避免使用 % 前导查询

### 使用 IN 代替 OR 查询

### 避免使用 COUNT(*)
